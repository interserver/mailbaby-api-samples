/*
 * MailBaby Email Delivery and Management Service API
 * **Send emails fast and with confidence through our easy to use [REST](https://en.wikipedia.org/wiki/Representational_state_transfer) API interface.**\n# Overview\nThis is the API interface to the [Mail Baby](https//mail.baby/) Mail services provided by [InterServer](https://www.interserver.net). To use this service you must have an account with us at [my.interserver.net](https://my.interserver.net).\n# Authentication\nIn order to use most of the API calls you must pass credentials from the [my.interserver.net](https://my.interserver.net/) site.\nWe support several different authentication methods but the preferred method is to use the **API Key** which you can get from the [Account Security](https://my.interserver.net/account_security) page.\n
 *
 * The version of the OpenAPI document: 1.1.0
 * Contact: support@interserver.net
 *
 * NOTE: This class is auto generated by the OAS code generator program.
 * https://github.com/OpenAPITools/openapi-generator
 * Do not edit the class manually.
 */

public class OASBlockingApi {
    OASClient client;

    public OASBlockingApi(OASClient client) {
        this.client = client;
    }

    public OASBlockingApi() {
        this.client = new OASClient();
    }

    public OASClient getClient() {
        return this.client;
    }

    /**
     * Creates a new email deny rule.
     * Adds a new email deny rule into the system to block new emails that match the given criteria
     * @param type The type of deny rule. (required)
     * @param data The content of the rule.  If a domain type rule then an example would be google.com. For a begins with type an example would be msgid-.  For the email typer an example would be user@server.com. (required)
     * @param user Mail account username that will be tied to this rule.  If not specified the first active mail order will be used. (optional)
     * @return OASGenericResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASGenericResponse addRule(Map<String, Object> params) {
        client.assertNotNull(params.get('type'), 'type');
        client.assertNotNull(params.get('data'), 'data');
        List<OAS.Param> query = new List<OAS.Param>();
        List<OAS.Param> form = new List<OAS.Param>();

        // cast form params to verify their expected type
        form.addAll(client.makeParam('user', (String) params.get('user')));
        form.addAll(client.makeParam('type', (String) params.get('type')));
        form.addAll(client.makeParam('data', (String) params.get('data')));

        return (OASGenericResponse) client.invoke(
            'POST', '/mail/rules', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ 'application/json' },
            new List<String>{ 'application/x-www-form-urlencoded', 'application/json' },
            new List<String> { 'apiKeyAuth' },
            OASGenericResponse.class
        );
    }
    /**
     * Removes an deny mail rule.
     * Removes one of the configured deny mail rules from the system.
     * @param ruleId The ID of the Rules entry. (required)
     * @return OASGenericResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASGenericResponse deleteRule(Map<String, Object> params) {
        client.assertNotNull(params.get('ruleId'), 'ruleId');
        List<OAS.Param> query = new List<OAS.Param>();
        List<OAS.Param> form = new List<OAS.Param>();

        return (OASGenericResponse) client.invoke(
            'DELETE', '/mail/rules/{ruleId}', '',
            query, form,
            new Map<String, Object>{
                'ruleId' => (Integer) params.get('ruleId')
            },
            new Map<String, Object>(),
            new List<String>{ 'application/json' },
            new List<String>(),
            new List<String> { 'apiKeyAuth' },
            OASGenericResponse.class
        );
    }
    /**
     * Removes an email address from the blocked list
     * Removes an email address from the various block lists.\n
     * @param body  (required)
     * @return OASGenericResponse
     * @throws OAS.ApiException if fails to make API call
     */
    public OASGenericResponse delistBlock(Map<String, Object> params) {
        client.assertNotNull(params.get('body'), 'body');
        List<OAS.Param> query = new List<OAS.Param>();
        List<OAS.Param> form = new List<OAS.Param>();

        return (OASGenericResponse) client.invoke(
            'POST', '/mail/blocks/delete',
            (String) params.get('body'),
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ 'application/json' },
            new List<String>{ 'application/json', 'multipart/form-data' },
            new List<String> { 'apiKeyAuth' },
            OASGenericResponse.class
        );
    }
    /**
     * displays a list of blocked email addresses
     * 
     * @return OASMailBlocks
     * @throws OAS.ApiException if fails to make API call
     */
    public OASMailBlocks getMailBlocks() {
        List<OAS.Param> query = new List<OAS.Param>();
        List<OAS.Param> form = new List<OAS.Param>();

        return (OASMailBlocks) client.invoke(
            'GET', '/mail/blocks', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ 'application/json' },
            new List<String>(),
            new List<String> { 'apiKeyAuth' },
            OASMailBlocks.class
        );
    }
    /**
     * Displays a listing of deny email rules.
     * Returns a listing of all the deny block rules you have configured.
     * @return List<OASDenyRuleRecord>
     * @throws OAS.ApiException if fails to make API call
     */
    public List<OASDenyRuleRecord> getRules() {
        List<OAS.Param> query = new List<OAS.Param>();
        List<OAS.Param> form = new List<OAS.Param>();

        return (List<OASDenyRuleRecord>) client.invoke(
            'GET', '/mail/rules', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ 'application/json' },
            new List<String>(),
            new List<String> { 'apiKeyAuth' },
            List<OASDenyRuleRecord>.class
        );
    }
}
