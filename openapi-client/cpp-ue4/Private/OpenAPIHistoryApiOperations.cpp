/**
 * MailBaby Email Delivery and Management Service API
 * **Send emails fast and with confidence through our easy to use [REST](https://en.wikipedia.org/wiki/Representational_state_transfer) API interface.** # Overview This is the API interface to the [Mail Baby](https//mail.baby/) Mail services provided by [InterServer](https://www.interserver.net). To use this service you must have an account with us at [my.interserver.net](https://my.interserver.net). # Authentication In order to use most of the API calls you must pass credentials from the [my.interserver.net](https://my.interserver.net/) site. We support several different authentication methods but the preferred method is to use the **API Key** which you can get from the [Account Security](https://my.interserver.net/account_security) page. 
 *
 * OpenAPI spec version: 1.1.0
 * Contact: support@interserver.net
 *
 * NOTE: This class is auto generated by OpenAPI Generator
 * https://github.com/OpenAPITools/openapi-generator
 * Do not edit the class manually.
 */

#include "OpenAPIHistoryApiOperations.h"

#include "OpenAPIModule.h"
#include "OpenAPIHelpers.h"

#include "Dom/JsonObject.h"
#include "Templates/SharedPointer.h"
#include "HttpModule.h"
#include "PlatformHttp.h"

namespace OpenAPI
{

FString OpenAPIHistoryApi::GetStatsRequest::ComputePath() const
{
	FString Path(TEXT("/mail/stats"));
	return Path;
}

void OpenAPIHistoryApi::GetStatsRequest::SetupHttpRequest(const FHttpRequestRef& HttpRequest) const
{
	static const TArray<FString> Consumes = {  };
	//static const TArray<FString> Produces = { TEXT("application/json") };

	HttpRequest->SetVerb(TEXT("GET"));

}

void OpenAPIHistoryApi::GetStatsResponse::SetHttpResponseCode(EHttpResponseCodes::Type InHttpResponseCode)
{
	Response::SetHttpResponseCode(InHttpResponseCode);
	switch ((int)InHttpResponseCode)
	{
	case 200:
		SetResponseString(TEXT("OK"));
		break;
	case 401:
		SetResponseString(TEXT("Unauthorized"));
		break;
	case 404:
		SetResponseString(TEXT("Unauthorized"));
		break;
	}
}

bool OpenAPIHistoryApi::GetStatsResponse::FromJson(const TSharedPtr<FJsonValue>& JsonValue)
{
	return TryGetJsonValue(JsonValue, Content);
}

FString OpenAPIHistoryApi::ViewMailLogRequest::ComputePath() const
{
	FString Path(TEXT("/mail/log"));
	TArray<FString> QueryParams;
	if(Id.IsSet())
	{
		QueryParams.Add(FString(TEXT("id=")) + ToUrlString(Id.GetValue()));
	}
	if(Origin.IsSet())
	{
		QueryParams.Add(FString(TEXT("origin=")) + ToUrlString(Origin.GetValue()));
	}
	if(Mx.IsSet())
	{
		QueryParams.Add(FString(TEXT("mx=")) + ToUrlString(Mx.GetValue()));
	}
	if(From.IsSet())
	{
		QueryParams.Add(FString(TEXT("from=")) + ToUrlString(From.GetValue()));
	}
	if(To.IsSet())
	{
		QueryParams.Add(FString(TEXT("to=")) + ToUrlString(To.GetValue()));
	}
	if(Subject.IsSet())
	{
		QueryParams.Add(FString(TEXT("subject=")) + ToUrlString(Subject.GetValue()));
	}
	if(Mailid.IsSet())
	{
		QueryParams.Add(FString(TEXT("mailid=")) + ToUrlString(Mailid.GetValue()));
	}
	if(Skip.IsSet())
	{
		QueryParams.Add(FString(TEXT("skip=")) + ToUrlString(Skip.GetValue()));
	}
	if(Limit.IsSet())
	{
		QueryParams.Add(FString(TEXT("limit=")) + ToUrlString(Limit.GetValue()));
	}
	if(StartDate.IsSet())
	{
		QueryParams.Add(FString(TEXT("startDate=")) + ToUrlString(StartDate.GetValue()));
	}
	if(EndDate.IsSet())
	{
		QueryParams.Add(FString(TEXT("endDate=")) + ToUrlString(EndDate.GetValue()));
	}
	if(Replyto.IsSet())
	{
		QueryParams.Add(FString(TEXT("replyto=")) + ToUrlString(Replyto.GetValue()));
	}
	if(Headerfrom.IsSet())
	{
		QueryParams.Add(FString(TEXT("headerfrom=")) + ToUrlString(Headerfrom.GetValue()));
	}
	Path += TCHAR('?');
	Path += FString::Join(QueryParams, TEXT("&"));

	return Path;
}

void OpenAPIHistoryApi::ViewMailLogRequest::SetupHttpRequest(const FHttpRequestRef& HttpRequest) const
{
	static const TArray<FString> Consumes = {  };
	//static const TArray<FString> Produces = { TEXT("application/json") };

	HttpRequest->SetVerb(TEXT("GET"));

}

void OpenAPIHistoryApi::ViewMailLogResponse::SetHttpResponseCode(EHttpResponseCodes::Type InHttpResponseCode)
{
	Response::SetHttpResponseCode(InHttpResponseCode);
	switch ((int)InHttpResponseCode)
	{
	case 200:
		SetResponseString(TEXT("search results matching criteria"));
		break;
	case 400:
		SetResponseString(TEXT("bad input parameter"));
		break;
	}
}

bool OpenAPIHistoryApi::ViewMailLogResponse::FromJson(const TSharedPtr<FJsonValue>& JsonValue)
{
	return TryGetJsonValue(JsonValue, Content);
}

}
